<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>JS_Slideshow2</title>
    <link rel="stylesheet" href="css/style_JS.css">
</head>

<body>
    <header>
        <nav>
            <a href="index.html">Home</a>
            <a href="challenges/challenge22.html">C22</a>
            <a href="DOM_examples.html">DOM</a>
            <a href="DOM_examples2.html">DOM2</a>
            <a href="events.html">Events</a>
            <a href="events2.html">Events2</a>
            <a href="JS_Scope.html">JS-Scope</a>
            <a href="SlideShow.html">SlideShow</a>
            <a href="SlideShow2.html">SlideShow2</a>
        </nav>
    </header>
    <br>

    <h1>JS Slideshow with Cross Fade</h1>
    <br>

    <div id="content">
        <img src="images/image1.jpg" alt="slideshow image" id="myImage">
    </div>

    <p id="links"><a href="#" id="previous">previous</a><a href="#" id="next">next</a></p>

    <script>
        var currentImage = 0;
        var myImages = ['image1.jpg', 'image2.jpg', 'image3.jpg','image4.jpg', 'image5.jpg', 'image6.jpg', 'image7.jpg', 'image8.jpg', 'image9.jpg', 'image10.jpg', 'image11.jpg', 'image12.jpg', 'image13.jpg', 'image14.jpg'];
        var container = document.getElementById('content');
        var nextBtn = document.getElementById('next');
        var prevBtn = document.getElementById('previous');

        nextBtn.addEventListener('click', function(event) {
            event.preventDefault();

            currentImage++;
            if(currentImage > myImages.length-1){currentImage = 0;}

            var newSlide = document.createElement('img');
            newSlide.src = `images/${myImages[currentImage]}`;
            newSlide.className = 'fadeinimg';
            container.appendChild(newSlide);

            if (container.children.length>2) {
                container.removeChild(container.children[0]); // This will remove the bottom most child. This is necessary
                // because every time we click the link, it adds one more and this fills up the DOM.
            }
        });

        prevBtn.addEventListener('click', function(event) {
            event.preventDefault();

            currentImage--;
            if(currentImage < 0) {currentImage=myImages.length-1}

            var newSlide = document.createElement('img');
            newSlide.src = `images/${myImages[currentImage]}`;
            newSlide.className = 'fadeinimg';
            container.appendChild(newSlide);

            if (container.children.length>2) {
                container.removeChild(container.children[0]);
            }
        });

    </script>
</body>
</html>