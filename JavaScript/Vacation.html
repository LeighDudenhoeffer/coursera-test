<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Vacation Destinations Wish List</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/vacay.css">
    <!-- <script src="js/vacay.js"></script> -->
</head>

<body>
    <header>
        <nav>
            <a href="index.html">Home</a>
            <a href="challenges/challenge22.html">C22</a>
            <a href="events.html">Events</a>
            <a href="events2.html">Events2</a>
            <a href="SlideShow.html">SlideShow</a>
            <a href="SlideShow2.html">SlideShow2</a>
            <a href="MtoK_Converter.html">Converter</a>
            <a href="DistanceConverterAdv.html">Converter2</a>
            <a href="Vacation.html">Vacation!</a>
        </nav>
    </header>

    <h1 id="titleTop">Vacation Destinations Wish List</h1>
    <p id="pTitle">Did you find some interesting places to visit for vacation! Use the form below to add
        to this wishlist!!</p>

    <main>
        <form id="destination_details_form">
            <label for="name">Destination Name</label>
            <input type="text" id="name" placeholder="Enter the name of your destination." required>

            <label for="location">Location</label>
            <input type="text" id="location" placeholder="Where is the destination located?" required>

            <label for="photo">Photo</label>
            <input type="url" id="photo" placeholder="Provide a url of the location photo.">

            <label for="description">Destination Description</label>
            <textarea id="description" placeholder="Describe your desired description."></textarea>

            <button type="submit" style="border-radius: 8px; background-color: rgb(189, 137, 238);">Add to list!</button>
        </form>

        <article>
            <h2 id="title">Enter destination details:</h2>
            <div id="destinations_container">
                <!-- content generated by JS -->
            </div>
        </article>
    </main>

    <script>

        var detailsForm = document.querySelector('#destination_details_form');

            detailsForm.addEventListener('submit', handleFormSubmit);

            function handleFormSubmit(event) {
                event.preventDefault();

                var destName = event.target.elements["name"].value;
                var destLocation = event.target.elements["location"].value;
                var destPhoto = event.target.elements["photo"].value;
                var destDesc = event.target.elements["description"].value;


                for (var i = 0; i < detailsForm.length; i++) {
                    detailsForm.elements[i].value = "";
                }

                var destCard = createDestinationCard(destName, destLocation, destPhoto, destDesc);

                var wishListContainer = document.getElementById('destinations_container');

                if (wishListContainer.children.length === 0) {
                    document.getElementById('title').innerHTML = "My Travel Wish List";
                }

                document.querySelector('#destinations_container').appendChild(destCard);
            }

            function createDestinationCard(name, location, photoURL, description) {

                var card = document.createElement('div');
                card.className = "card";

                var img = document.createElement('img');
                img.setAttribute('alt', name); // setting the alt attribute for individuals with screenreaders

                var constantphotoURL = "images/signpost.jpg";

                if (photoURL.length === 0) {
                    img.setAttribute('src', constantphotoURL);
                }
                else {
                    img.setAttribute('src', photoURL);
                }

                card.appendChild(img);

                var cardBody = document.createElement("div");
                cardBody.className = "card-body";

                var cardTitle = document.createElement("h3");
                cardTitle.innerText = name;
                cardBody.appendChild(cardTitle);

                var cardSubtitle = document.createElement("h4");
                cardSubtitle.innerText = location;
                cardBody.appendChild(cardSubtitle);

                if (description.length !== 0) {
                    var cardText = document.createElement("p");
                    cardText.className = "card-text";
                    cardText.innerText = description;
                    cardBody.appendChild(cardText);
                }

                var cardDeleteBtn = document.createElement("button");
                cardDeleteBtn.innerText = "Remove";

                cardDeleteBtn.addEventListener("click", removeDestination);
                cardBody.appendChild(cardDeleteBtn);

                card.appendChild(cardBody);
                return card;
            }

            function removeDestination(event) {
                var card = event.target.parentElement.parentElement;
                card.remove();
            }



    </script>

</body>
</html>